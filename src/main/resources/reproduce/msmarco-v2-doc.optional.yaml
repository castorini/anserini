conditions:
  - name: unicoil-noexp.cached
    display: "uniCOIL (noexp): cached queries"
    display_html: "uniCOIL (noexp): cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-doc-segmented.unicoil-noexp-0shot -topics $topics -output $output -parallelism 16 -impact -pretokenized -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000
    topics:
      - topic_key: msmarco-v2-doc.dev.unicoil-noexp.0shot
        eval_key: msmarco-v2-doc.dev
        expected_scores:
          MRR@100: 0.2231
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: msmarco-v2-doc.dev2.unicoil-noexp.0shot
        eval_key: msmarco-v2-doc.dev2
        expected_scores:
          MRR@100: 0.2314
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: dl21.unicoil-noexp.0shot
        eval_key: dl21-doc
        expected_scores:
          MAP@100: 0.2587
          MRR@100: 0.9282
          nDCG@10: 0.6495
          R@100: 0.3563
          R@1K: 0.6787
        metric_definitions:
          MAP@100: "-c -M 100 -m map"
          MRR@100: "-c -M 100 -m recip_rank"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100"
          R@1K: "-c -m recall.1000"
      - topic_key: dl22.unicoil-noexp.0shot
        eval_key: dl22-doc
        expected_scores:
          MAP@100: 0.1180
          MRR@100: 0.7785
          nDCG@10: 0.4165
          R@100: 0.2335
          R@1K: 0.4779
        metric_definitions:
          MAP@100: "-c -M 100 -m map"
          MRR@100: "-c -M 100 -m recip_rank"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100"
          R@1K: "-c -m recall.1000"
      - topic_key: dl23.unicoil-noexp.0shot
        eval_key: dl23-doc
        expected_scores:
          MAP@100: 0.1413
          MRR@100: 0.7712
          nDCG@10: 0.3898
          R@100: 0.2949
          R@1K: 0.5462
        metric_definitions:
          MAP@100: "-c -M 100 -m map"
          MRR@100: "-c -M 100 -m recip_rank"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100"
          R@1K: "-c -m recall.1000"
  - name: unicoil.cached
    display: "uniCOIL (with doc2query-T5): cached queries"
    display_html: "uniCOIL (with doc2query-T5): cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-doc-segmented.unicoil-0shot -topics $topics -output $output -impact -pretokenized -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000
    topics:
      - topic_key: msmarco-v2-doc.dev.unicoil.0shot
        eval_key: msmarco-v2-doc.dev
        expected_scores:
          MRR@100: 0.2419
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: msmarco-v2-doc.dev2.unicoil.0shot
        eval_key: msmarco-v2-doc.dev2
        expected_scores:
          MRR@100: 0.2445
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: dl21.unicoil.0shot
        eval_key: dl21-doc
        expected_scores:
          MAP@100: 0.2718
          MRR@100: 0.9684
          nDCG@10: 0.6783
          R@100: 0.3700
          R@1K: 0.7069
        metric_definitions:
          MAP@100: "-c -M 100 -m map"
          MRR@100: "-c -M 100 -m recip_rank"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100"
          R@1K: "-c -m recall.1000"
      - topic_key: dl22.unicoil.0shot
        eval_key: dl22-doc
        expected_scores:
          MAP@100: 0.1400
          MRR@100: 0.8170
          nDCG@10: 0.4451
          R@100: 0.2656
          R@1K: 0.5235
        metric_definitions:
          MAP@100: "-c -M 100 -m map"
          MRR@100: "-c -M 100 -m recip_rank"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100"
          R@1K: "-c -m recall.1000"
      - topic_key: dl23.unicoil.0shot
        eval_key: dl23-doc
        expected_scores:
          MAP@100: 0.1554
          MRR@100: 0.7793
          nDCG@10: 0.4149
          R@100: 0.3101
          R@1K: 0.5753
        metric_definitions:
          MAP@100: "-c -M 100 -m map"
          MRR@100: "-c -M 100 -m recip_rank"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100"
          R@1K: "-c -m recall.1000"
