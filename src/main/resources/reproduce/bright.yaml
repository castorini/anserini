conditions:
  - name: bm25
    display: "BM25, bag-of-words baseline"
    display_html: "BM25, bag-of-words baseline"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index bright-$topics -topics bright-$topics -output $output -bm25 -removeQuery
    topics:
      - topic_key: biology
        eval_key: bright-biology
        scores:
          - nDCG@10: 0.1824
      - topic_key: earth-science
        eval_key: bright-earth-science
        scores:
          - nDCG@10: 0.2791
      - topic_key: economics
        eval_key: bright-economics
        scores:
          - nDCG@10: 0.1645
      - topic_key: psychology
        eval_key: bright-psychology
        scores:
          - nDCG@10: 0.1342
      - topic_key: robotics
        eval_key: bright-robotics
        scores:
          - nDCG@10: 0.1091
      - topic_key: stackoverflow
        eval_key: bright-stackoverflow
        scores:
          - nDCG@10: 0.1626
      - topic_key: sustainable-living
        eval_key: bright-sustainable-living
        scores:
          - nDCG@10: 0.1613
      - topic_key: pony
        eval_key: bright-pony
        scores:
          - nDCG@10: 0.0434
      - topic_key: leetcode
        eval_key: bright-leetcode
        scores:
          - nDCG@10: 0.2471
      - topic_key: aops
        eval_key: bright-aops
        scores:
          - nDCG@10: 0.0645
      - topic_key: theoremqa-questions
        eval_key: bright-theoremqa-questions
        scores:
          - nDCG@10: 0.0733
      - topic_key: theoremqa-theorems
        eval_key: bright-theoremqa-theorems
        scores:
          - nDCG@10: 0.0214
  - name: bm25q
    display_html: "BM25, query-side BM25 baseline"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index bright-$topics -topics bright-$topics -output $output -bm25 -bm25query -removeQuery
    topics:
      - topic_key: biology
        eval_key: bright-biology
        scores:
          - nDCG@10: 0.1972
      - topic_key: earth-science
        eval_key: bright-earth-science
        scores:
          - nDCG@10: 0.2789
      - topic_key: economics
        eval_key: bright-economics
        scores:
          - nDCG@10: 0.1518
      - topic_key: psychology
        eval_key: bright-psychology
        scores:
          - nDCG@10: 0.1266
      - topic_key: robotics
        eval_key: bright-robotics
        scores:
          - nDCG@10: 0.1390
      - topic_key: stackoverflow
        eval_key: bright-stackoverflow
        scores:
          - nDCG@10: 0.1855
      - topic_key: sustainable-living
        eval_key: bright-sustainable-living
        scores:
          - nDCG@10: 0.1515
      - topic_key: pony
        eval_key: bright-pony
        scores:
          - nDCG@10: 0.0789
      - topic_key: leetcode
        eval_key: bright-leetcode
        scores:
          - nDCG@10: 0.2497
      - topic_key: aops
        eval_key: bright-aops
        scores:
          - nDCG@10: 0.0627
      - topic_key: theoremqa-theorems
        eval_key: bright-theoremqa-theorems
        scores:
          - nDCG@10: 0.0492
      - topic_key: theoremqa-questions
        eval_key: bright-theoremqa-questions
        scores:
          - nDCG@10: 0.1036
  - name: splade-v3.onnx
    display: "SPLADE-v3: ONNX"
    display_html: "SPLADE-v3: ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index bright-$topics.splade-v3 -topics bright-$topics -encoder SpladeV3 -output $output -impact -pretokenized -removeQuery
    topics:
      - topic_key: biology
        eval_key: bright-biology
        scores:
          - nDCG@10: 0.2101
      - topic_key: earth-science
        eval_key: bright-earth-science
        scores:
          - nDCG@10: 0.2670
      - topic_key: economics
        eval_key: bright-economics
        scores:
          - nDCG@10: 0.1604
      - topic_key: psychology
        eval_key: bright-psychology
        scores:
          - nDCG@10: 0.1527
      - topic_key: robotics
        eval_key: bright-robotics
        scores:
          - nDCG@10: 0.1578
      - topic_key: stackoverflow
        eval_key: bright-stackoverflow
        scores:
          - nDCG@10: 0.1290
      - topic_key: sustainable-living
        eval_key: bright-sustainable-living
        scores:
          - nDCG@10: 0.1497
      - topic_key: pony
        eval_key: bright-pony
        scores:
          - nDCG@10: 0.1440
      - topic_key: leetcode
        eval_key: bright-leetcode
        scores:
          - nDCG@10: 0.2603
      - topic_key: aops
        eval_key: bright-aops
        scores:
          - nDCG@10: 0.0692
      - topic_key: theoremqa-questions
        eval_key: bright-theoremqa-questions
        scores:
          - nDCG@10: 0.1113
      - topic_key: theoremqa-theorems
        eval_key: bright-theoremqa-theorems
        scores:
          - nDCG@10: 0.0554
  - name: splade-v3.cached
    display: "SPLADE-v3: cached queries"
    display_html: "SPLADE-v3: cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index bright-$topics.splade-v3 -topics bright-$topics.splade-v3 -output $output -impact -pretokenized -removeQuery
    topics:
      - topic_key: biology
        eval_key: bright-biology
        scores:
          - nDCG@10: 0.2101
      - topic_key: earth-science
        eval_key: bright-earth-science
        scores:
          - nDCG@10: 0.2670
      - topic_key: economics
        eval_key: bright-economics
        scores:
          - nDCG@10: 0.1604
      - topic_key: psychology
        eval_key: bright-psychology
        scores:
          - nDCG@10: 0.1527
      - topic_key: robotics
        eval_key: bright-robotics
        scores:
          - nDCG@10: 0.1580
      - topic_key: stackoverflow
        eval_key: bright-stackoverflow
        scores:
          - nDCG@10: 0.1290
      - topic_key: sustainable-living
        eval_key: bright-sustainable-living
        scores:
          - nDCG@10: 0.1497
      - topic_key: pony
        eval_key: bright-pony
        scores:
          - nDCG@10: 0.1440
      - topic_key: leetcode
        eval_key: bright-leetcode
        scores:
          - nDCG@10: 0.2597
      - topic_key: aops
        eval_key: bright-aops
        scores:
          - nDCG@10: 0.0692
      - topic_key: theoremqa-questions
        eval_key: bright-theoremqa-questions
        scores:
          - nDCG@10: 0.1113
      - topic_key: theoremqa-theorems
        eval_key: bright-theoremqa-theorems
        scores:
          - nDCG@10: 0.0554
  - name: bge-large-en-v1.5.flat.cached
    display: "bge-large-en-v1.5 w/ flat indexes: cached queries"
    display_html: "bge-large-en-v1.5 w/ flat indexes: cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchFlatDenseVectors -threads $threads -index bright-$topics.bge-large-en-v1.5.flat -topics bright-$topics.bge-large-en-v1.5 -output $output -removeQuery
    topics:
      - topic_key: biology
        eval_key: bright-biology
        scores:
          - nDCG@10: 0.1167
      - topic_key: earth-science
        eval_key: bright-earth-science
        scores:
          - nDCG@10: 0.2456
      - topic_key: economics
        eval_key: bright-economics
        scores:
          - nDCG@10: 0.1661
      - topic_key: psychology
        eval_key: bright-psychology
        scores:
          - nDCG@10: 0.1746
      - topic_key: robotics
        eval_key: bright-robotics
        scores:
          - nDCG@10: 0.1171
      - topic_key: stackoverflow
        eval_key: bright-stackoverflow
        scores:
          - nDCG@10: 0.1083
      - topic_key: sustainable-living
        eval_key: bright-sustainable-living
        scores:
          - nDCG@10: 0.1333
      - topic_key: pony
        eval_key: bright-pony
        scores:
          - nDCG@10: 0.0572
      - topic_key: leetcode
        eval_key: bright-leetcode
        scores:
          - nDCG@10: 0.2668
      - topic_key: aops
        eval_key: bright-aops
        scores:
          - nDCG@10: 0.0600
      - topic_key: theoremqa-questions
        eval_key: bright-theoremqa-questions
        scores:
          - nDCG@10: 0.1300
      - topic_key: theoremqa-theorems
        eval_key: bright-theoremqa-theorems
        scores:
          - nDCG@10: 0.0690
  - name: bge-large-en-v1.5.flat.onnx
    display: "bge-large-en-v1.5 w/ flat indexes: ONNX"
    display_html: "bge-large-en-v1.5 w/ flat indexes: ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchFlatDenseVectors -threads $threads -index bright-$topics.bge-large-en-v1.5.flat -topics bright-$topics -encoder BgeLargeEn15 -output $output -removeQuery
    topics:
      - topic_key: biology
        eval_key: bright-biology
        scores:
          - nDCG@10: 0.1242
      - topic_key: earth-science
        eval_key: bright-earth-science
        scores:
          - nDCG@10: 0.2545
      - topic_key: economics
        eval_key: bright-economics
        scores:
          - nDCG@10: 0.1662
      - topic_key: psychology
        eval_key: bright-psychology
        scores:
          - nDCG@10: 0.1805
      - topic_key: robotics
        eval_key: bright-robotics
        scores:
          - nDCG@10: 0.1230
      - topic_key: stackoverflow
        eval_key: bright-stackoverflow
        scores:
          - nDCG@10: 0.1099
      - topic_key: sustainable-living
        eval_key: bright-sustainable-living
        scores:
          - nDCG@10: 0.1440
      - topic_key: pony
        eval_key: bright-pony
        scores:
          - nDCG@10: 0.0338
      - topic_key: leetcode
        eval_key: bright-leetcode
        scores:
          - nDCG@10: 0.2668
      - topic_key: aops
        eval_key: bright-aops
        scores:
          - nDCG@10: 0.0638
      - topic_key: theoremqa-questions
        eval_key: bright-theoremqa-questions
        scores:
          - nDCG@10: 0.1411
      - topic_key: theoremqa-theorems
        eval_key: bright-theoremqa-theorems
        scores:
          - nDCG@10: 0.0532