conditions:
  - name: bm25-doc-default
    display: "BM25 (k1=0.9, b=0.4)"
    display_html: "BM25 (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-doc.dev
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.2299
      - topic_key: dl19-doc
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2434
            nDCG@10: 0.5176
            R@1K: 0.6966
      - topic_key: dl20-doc
        eval_key: dl20-doc
        scores:
          - AP@100: 0.3793
            nDCG@10: 0.5286
            R@1K: 0.8085
  - name: bm25-d2q-t5-doc-default
    display: "BM25 (k1=0.9, b=0.4) with doc2query-T5 expansions"
    display_html: "BM25 with doc2query-T5 expansions (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc.d2q-t5 -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-doc.dev
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.2880
      - topic_key: dl19-doc
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2700
            nDCG@10: 0.5968
            R@1K: 0.7190
      - topic_key: dl20-doc
        eval_key: dl20-doc
        scores:
          - AP@100: 0.4230
            nDCG@10: 0.5885
            R@1K: 0.8403
  - name: bm25-doc-segmented-default
    display: "BM25 segmented (k1=0.9, b=0.4) "
    display_html: "BM25 segmented (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc-segmented -topics $topics -output $output -bm25 -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000
    topics:
      - topic_key: msmarco-doc.dev
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.2684
      - topic_key: dl19-doc
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2449
            nDCG@10: 0.5302
            R@1K: 0.6871
      - topic_key: dl20-doc
        eval_key: dl20-doc
        scores:
          - AP@100: 0.3586
            nDCG@10: 0.5281
            R@1K: 0.7755
  - name: bm25-d2q-t5-doc-segmented-default
    display: "BM25 segmented (k1=0.9, b=0.4) with doc2query-T5 expansions"
    display_html: "BM25 segmented with doc2query-T5 expansions (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc-segmented.d2q-t5 -topics $topics -output $output -bm25 -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000
    topics:
      - topic_key: msmarco-doc.dev
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.3179
      - topic_key: dl19-doc
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2798
            nDCG@10: 0.6119
            R@1K: 0.7165
      - topic_key: dl20-doc
        eval_key: dl20-doc
        scores:
          - AP@100: 0.4150
            nDCG@10: 0.5957
            R@1K: 0.8046
  - name: unicoil-noexp.cached
    display: "uniCOIL (no expansions) using cached queries"
    display_html: "uniCOIL (no expansions) using cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc-segmented.unicoil-noexp -topics $topics -output $output -impact -pretokenized -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000
    topics:
      - topic_key: msmarco-doc.dev.unicoil-noexp
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.3409
      - topic_key: dl19-doc.unicoil-noexp.0shot
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2665
            nDCG@10: 0.6349
            R@1K: 0.6391
      - topic_key: dl20.unicoil-noexp.0shot
        eval_key: dl20-doc
        scores:
          - AP@100: 0.3698
            nDCG@10: 0.5893
            R@1K: 0.7623
  - name: unicoil.cached
    display: "uniCOIL (with doc2query-T5 expansions) using cached queries"
    display_html: "uniCOIL (with doc2query-T5 expansions) using cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc-segmented.unicoil -topics $topics -output $output -impact -pretokenized -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000
    topics:
      - topic_key: msmarco-doc.dev.unicoil
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.3531
      - topic_key: dl19-doc.unicoil.0shot
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2789
            nDCG@10: 0.6396
            R@1K: 0.6652
      - topic_key: dl20.unicoil.0shot
        eval_key: dl20-doc
        scores:
          - AP@100: 0.3882
            nDCG@10: 0.6033
            R@1K: 0.7869
  - name: unicoil.onnx
    display: "uniCOIL (with doc2query-T5 expansions) using ONNX"
    display_html: "uniCOIL (with doc2query-T5 expansions) using ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-doc-segmented.unicoil -topics $topics -output $output -impact -pretokenized -hits 10000 -selectMaxPassage -selectMaxPassage.delimiter \# -selectMaxPassage.hits 1000 -encoder UniCoil
    topics:
      - topic_key: msmarco-doc.dev
        eval_key: msmarco-doc.dev
        scores:
          - MRR@100: 0.3531
      - topic_key: dl19-doc
        eval_key: dl19-doc
        scores:
          - AP@100: 0.2789
            nDCG@10: 0.6396
            R@1K: 0.6652
      - topic_key: dl20
        eval_key: dl20-doc
        scores:
          - AP@100: 0.3882
            nDCG@10: 0.6033
            R@1K: 0.7869
