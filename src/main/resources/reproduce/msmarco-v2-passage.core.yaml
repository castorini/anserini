conditions:
  - name: bm25
    display: "BM25 (k1=0.9, b=0.4)"
    display_html: "BM25 (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-v2-passage.dev
        eval_key: msmarco-v2-passage.dev
        expected_scores:
          MRR@100: 0.0719
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: msmarco-v2-passage.dev2
        eval_key: msmarco-v2-passage.dev2
        expected_scores:
          MRR@100: 0.0802
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: dl21
        eval_key: dl21-passage
        expected_scores:
          MAP@100: 0.1357
          MRR@100: 0.5060
          nDCG@10: 0.4458
          R@100: 0.3261
          R@1K: 0.6149
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
      - topic_key: dl22
        eval_key: dl22-passage
        expected_scores:
          MAP@100: 0.0325
          MRR@100: 0.3256
          nDCG@10: 0.2692
          R@100: 0.1382
          R@1K: 0.3321
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
      - topic_key: dl23
        eval_key: dl23-passage
        expected_scores:
          MAP@100: 0.0793
          MRR@100: 0.3803
          nDCG@10: 0.2627
          R@100: 0.2329
          R@1K: 0.4346
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
  - name: bm25-d2q-t5
    display: "BM25 with doc2query-T5 (k1=0.9, b=0.4)"
    display_html: "BM25 with doc2query-T5 (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage.d2q-t5 -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-v2-passage.dev
        eval_key: msmarco-v2-passage.dev
        expected_scores:
          MRR@100: 0.1072
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: msmarco-v2-passage.dev2
        eval_key: msmarco-v2-passage.dev2
        expected_scores:
          MRR@100: 0.1123
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: dl21
        eval_key: dl21-passage
        expected_scores:
          MAP@100: 0.1874
          MRR@100: 0.6848
          nDCG@10: 0.4816
          R@100: 0.4076
          R@1K: 0.7078
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
      - topic_key: dl22
        eval_key: dl22-passage
        expected_scores:
          MAP@100: 0.0748
          MRR@100: 0.4221
          nDCG@10: 0.3599
          R@100: 0.2259
          R@1K: 0.4632
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
      - topic_key: dl23
        eval_key: dl23-passage
        expected_scores:
          MAP@100: 0.1085
          MRR@100: 0.5234
          nDCG@10: 0.3156
          R@100: 0.2946
          R@1K: 0.5608
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
  - name: unicoil.onnx
    display: "uniCOIL (with doc2query-T5): ONNX"
    display_html: "uniCOIL (with doc2query-T5): ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage.unicoil-0shot -topics $topics -output $output -hits 1000 -impact -pretokenized -encoder UniCoil
    topics:
      - topic_key: msmarco-v2-passage.dev
        eval_key: msmarco-v2-passage.dev
        expected_scores:
          MRR@100: 0.1499
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: msmarco-v2-passage.dev2
        eval_key: msmarco-v2-passage.dev2
        expected_scores:
          MRR@100: 0.1577
        metric_definitions:
          MRR@100: "-c -M 100 -m recip_rank"
      - topic_key: dl21
        eval_key: dl21-passage
        expected_scores:
          MAP@100: 0.2538
          MRR@100: 0.7311
          nDCG@10: 0.6159
          R@100: 0.4731
          R@1K: 0.7551
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
      - topic_key: dl22
        eval_key: dl22-passage
        expected_scores:
          MAP@100: 0.1050
          MRR@100: 0.5831
          nDCG@10: 0.4614
          R@100: 0.2716
          R@1K: 0.5253
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
      - topic_key: dl23
        eval_key: dl23-passage
        expected_scores:
          MAP@100: 0.1437
          MRR@100: 0.6424
          nDCG@10: 0.3855
          R@100: 0.3293
          R@1K: 0.5541
        metric_definitions:
          MAP@100: "-c -M 100 -m map -l 2"
          MRR@100: "-c -M 100 -m recip_rank -l 2"
          nDCG@10: "-c -m ndcg_cut.10"
          R@100: "-c -m recall.100 -l 2"
          R@1K: "-c -m recall.1000 -l 2"
