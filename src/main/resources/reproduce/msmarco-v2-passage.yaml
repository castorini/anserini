conditions:
  - name: bm25
    display: "BM25 (k1=0.9, b=0.4)"
    display_html: "BM25 (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-v2-passage.dev
        eval_key: msmarco-v2-passage.dev
        scores:
          - MRR@100: 0.0719
      - topic_key: msmarco-v2-passage.dev2
        eval_key: msmarco-v2-passage.dev2
        scores:
          - MRR@100: 0.0802
      - topic_key: dl21
        eval_key: dl21-passage
        scores:
          - MAP@100: 0.1357
            MRR@100: 0.5060
            nDCG@10: 0.4458
            R@100: 0.3261
            R@1K: 0.6149
      - topic_key: dl22
        eval_key: dl22-passage
        scores:
          - MAP@100: 0.0325
            MRR@100: 0.3256
            nDCG@10: 0.2692
            R@100: 0.1382
            R@1K: 0.3321
      - topic_key: dl23
        eval_key: dl23-passage
        scores:
          - MAP@100: 0.0793
            MRR@100: 0.3803
            nDCG@10: 0.2627
            R@100: 0.2329
            R@1K: 0.4346
  - name: unicoil-noexp.cached
    display: "uniCOIL (no expansion): cached queries"
    display_html: "uniCOIL (no expansion): cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage.unicoil-noexp-0shot -topics $topics -output $output -hits 1000 -impact -pretokenized
    topics:
      - topic_key: msmarco-v2-passage.dev.unicoil-noexp.0shot
        eval_key: msmarco-v2-passage.dev
        scores:
          - MRR@100: 0.1342
      - topic_key: msmarco-v2-passage.dev2.unicoil-noexp.0shot
        eval_key: msmarco-v2-passage.dev2
        scores:
          - MRR@100: 0.1385
      - topic_key: dl21.unicoil-noexp.0shot
        eval_key: dl21-passage
        scores:
          - MAP@100: 0.2193
            MRR@100: 0.6991
            nDCG@10: 0.5756
            R@100: 0.4246
            R@1K: 0.6897
      - topic_key: dl22.unicoil-noexp.0shot
        eval_key: dl22-passage
        scores:
          - MAP@100: 0.0754
            MRR@100: 0.5258
            nDCG@10: 0.4077
            R@100: 0.2151
            R@1K: 0.4423
      - topic_key: dl23.unicoil-noexp.0shot
        eval_key: dl23-passage
        scores:
          - MAP@100: 0.1111
            MRR@100: 0.5913
            nDCG@10: 0.3262
            R@100: 0.2761
            R@1K: 0.5070
  - name: unicoil.cached
    display: "uniCOIL (with doc2query-T5): cached queries"
    display_html: "uniCOIL (with doc2query-T5): cached queries"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage.unicoil-0shot -topics $topics -output $output -hits 1000 -impact -pretokenized
    topics:
      - topic_key: msmarco-v2-passage.dev.unicoil.0shot
        eval_key: msmarco-v2-passage.dev
        scores:
          - MRR@100: 0.1499
      - topic_key: msmarco-v2-passage.dev2.unicoil.0shot
        eval_key: msmarco-v2-passage.dev2
        scores:
          - MRR@100: 0.1577
      - topic_key: dl21.unicoil.0shot
        eval_key: dl21-passage
        scores:
          - MAP@100: 0.2538
            MRR@100: 0.7311
            nDCG@10: 0.6159
            R@100: 0.4731
            R@1K: 0.7551
      - topic_key: dl22.unicoil.0shot
        eval_key: dl22-passage
        scores:
          - MAP@100: 0.1050
            MRR@100: 0.5831
            nDCG@10: 0.4614
            R@100: 0.2716
            R@1K: 0.5253
      - topic_key: dl23.unicoil.0shot
        eval_key: dl23-passage
        scores:
          - MAP@100: 0.1437
            MRR@100: 0.6424
            nDCG@10: 0.3855
            R@100: 0.3293
            R@1K: 0.5541
  - name: unicoil.onnx
    display: "uniCOIL (with doc2query-T5): ONNX"
    display_html: "uniCOIL (with doc2query-T5): ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v2-passage.unicoil-0shot -topics $topics -output $output -hits 1000 -impact -pretokenized -encoder UniCoil
    topics:
      - topic_key: msmarco-v2-passage.dev
        eval_key: msmarco-v2-passage.dev
        scores:
          - MRR@100: 0.1499
      - topic_key: msmarco-v2-passage.dev2
        eval_key: msmarco-v2-passage.dev2
        scores:
          - MRR@100: 0.1577
      - topic_key: dl21
        eval_key: dl21-passage
        scores:
          - MAP@100: 0.2538
            MRR@100: 0.7311
            nDCG@10: 0.6159
            R@100: 0.4731
            R@1K: 0.7551
      - topic_key: dl22
        eval_key: dl22-passage
        scores:
          - MAP@100: 0.1050
            MRR@100: 0.5831
            nDCG@10: 0.4614
            R@100: 0.2716
            R@1K: 0.5253
      - topic_key: dl23
        eval_key: dl23-passage
        scores:
          - MAP@100: 0.1437
            MRR@100: 0.6424
            nDCG@10: 0.3855
            R@100: 0.3293
            R@1K: 0.5541
