conditions:
  - name: bm25
    display: "BM25 (k1=0.9, b=0.4)"
    display_html: "BM25 (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-passage -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-v1-passage.dev
        eval_key: msmarco-passage.dev
        scores:
          MRR@10: 0.1840
          R@1K: 0.8526
        metric_definitions:
          MRR@10: "-c -M 10 -m recip_rank"
          R@1K: "-c -m recall.1000"
      - topic_key: dl19-passage
        eval_key: dl19-passage
        scores:
          MAP: 0.3013
          nDCG@10: 0.5058
          R@1K: 0.7501
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
      - topic_key: dl20-passage
        eval_key: dl20-passage
        scores:
          MAP: 0.2856
          nDCG@10: 0.4796
          R@1K: 0.7863
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
  - name: bm25-d2q-t5
    display: "BM25 with doc2query-T5 (k1=0.9, b=0.4)"
    display_html: "BM25 with doc2query-T5  (<i>k<sub><small>1</small></sub></i>=0.9, <i>b</i>=0.4)"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-passage.d2q-t5 -topics $topics -output $output -hits 1000 -bm25
    topics:
      - topic_key: msmarco-v1-passage.dev
        eval_key: msmarco-passage.dev
        scores:
          MRR@10: 0.2723
          R@1K: 0.9470
        metric_definitions:
          MRR@10: "-c -M 10 -m recip_rank"
          R@1K: "-c -m recall.1000"
      - topic_key: dl19-passage
        eval_key: dl19-passage
        scores:
          MAP: 0.4034
          nDCG@10: 0.6417
          R@1K: 0.8310
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
      - topic_key: dl20-passage
        eval_key: dl20-passage
        scores:
          MAP: 0.4074
          nDCG@10: 0.6187
          R@1K: 0.8452
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
  - name: splade-v3.onnx
    display: "SPLADE-v3: ONNX"
    display_html: "SPLADE-v3: ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchCollection -threads $threads -index msmarco-v1-passage.splade-v3 -topics $topics -output $output -impact -pretokenized -hits 1000 -encoder SpladeV3
    topics:
      - topic_key: msmarco-v1-passage.dev
        eval_key: msmarco-passage.dev
        scores:
          MRR@10: 0.4000
          R@1K: 0.9868
        metric_definitions:
          MRR@10: "-c -M 10 -m recip_rank"
          R@1K: "-c -m recall.1000"
      - topic_key: dl19-passage
        eval_key: dl19-passage
        scores:
          MAP: 0.5232
          nDCG@10: 0.7264
          R@1K: 0.8791
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
      - topic_key: dl20-passage
        eval_key: dl20-passage
        scores:
          MAP: 0.5402
          nDCG@10: 0.7522
          R@1K: 0.9039
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
  - name: bge-base-en-v1.5.hnsw.onnx
    display: "bge-base-en-v1.5: HNSW, ONNX"
    display_html: "bge-base-en-v1.5: HNSW, ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchHnswDenseVectors -threads $threads -index msmarco-v1-passage.bge-base-en-v1.5.hnsw -topics $topics -output $output -efSearch 1000 -hits 1000 -encoder BgeBaseEn15
    topics:
      - topic_key: msmarco-v1-passage.dev
        eval_key: msmarco-passage.dev
        scores:
          MRR@10: 0.3575
          R@1K: 0.9788
        metric_definitions:
          MRR@10: "-c -M 10 -m recip_rank"
          R@1K: "-c -m recall.1000"
      - topic_key: dl19-passage
        eval_key: dl19-passage
        scores:
          MAP: 0.4486
          nDCG@10: 0.7016
          R@1K: 0.8441
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
      - topic_key: dl20-passage
        eval_key: dl20-passage
        scores:
          MAP: 0.4626
          nDCG@10: 0.6768
          R@1K: 0.8526
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
  - name: bge-base-en-v1.5.hnsw-int8.onnx
    display: "bge-base-en-v1.5: quantized (int8) HNSW, ONNX"
    display_html: "bge-base-en-v1.5: quantized (int8) HNSW, ONNX"
    display_row: ""
    command: java -cp $fatjar --add-modules jdk.incubator.vector io.anserini.search.SearchHnswDenseVectors -threads $threads -index msmarco-v1-passage.bge-base-en-v1.5.hnsw-int8 -topics $topics -output $output -efSearch 1000 -hits 1000 -encoder BgeBaseEn15
    topics:
      - topic_key: msmarco-v1-passage.dev
        eval_key: msmarco-passage.dev
        scores:
          MRR@10: 0.3575
          R@1K: 0.9772
        metric_definitions:
          MRR@10: "-c -M 10 -m recip_rank"
          R@1K: "-c -m recall.1000"
      - topic_key: dl19-passage
        eval_key: dl19-passage
        scores:
          MAP: 0.4454
          nDCG@10: 0.7017
          R@1K: 0.8436
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
      - topic_key: dl20-passage
        eval_key: dl20-passage
        scores:
          MAP: 0.4596
          nDCG@10: 0.6767
          R@1K: 0.8468
        metric_definitions:
          MAP: "-c -l 2 -m map"
          nDCG@10: "-c -m ndcg_cut.10"
          R@1K: "-c -l 2 -m recall.1000"
